<!doctype html><head><meta charset="utf-8"><title>Edit page</title>
<style>
textarea {
    display: block;
	min-height: 30em;
	max-height: 50vh;
	width: 100%;
    font-family: ui-monospace;
    tab-size: 4;
}
</style>
</head>
<body>
    <form method="POST">
        <textarea id="editor" name="text" autofocus="true" placeholder="Text goes here" required>{{.Text}}</textarea>
        <button>Save</button>
    </form>
    <script>
        document.getElementById('editor').addEventListener('keydown', function(e) {
          if (e.keyCode===9) {
            e.preventDefault();
            var start = this.selectionStart;
            var end = this.selectionEnd;

            // set textarea value to: text before caret + tab + text after caret
            this.value = this.value.substring(0, start) +
              "\t" + this.value.substring(end);

            // put caret at right position again
            this.selectionStart =
              this.selectionEnd = start + 1;
          }
        });
        </script>
</body>